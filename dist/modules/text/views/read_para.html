<div class="jumbotron" parallax-background parallax-ratio="0.8"> <div class="container"> <h1>{{ title[0] }} &ndash; {{ title[2] }}</h1> </div> </div> <div class="container"> <div class="row"> <div class="col-md-3"> <div class="bs-sidebar hidden-print" role="complementary" data-offset-top="-80" bs-affix> <p><a href="/#!/text/{{ activeParaId }}/">Paragraph {{ activeParaId }}</a> of {{ paraCount }} ({{ activePara.words }} words)</p> <p ng-if="activePara.wordsProgress != 0">{{ activePara.wordsProgress / wordsTotal * 100 | number:0 }}% completed</p> <p>Go to: <select ng-change="gotoPara()" ng-model="gotoParaId" ng-options="number for number in paraNumbers"></select></p> <input ng-model="query"> <fa name="search"></fa> <p ng-if="query">{{ filteredText.length }} paragraphs</p> </div> </div> <div class="col-md-6 read" scroll="setActiveParaId(paraId)"> <div ng-repeat="item in (filteredText = (text | filter:query))"> <p ng-if="item.type=='p'" id="para-{{ item.id }}" ng-bind-html="item.content" ng-class="{'active-para': item.id == activeParaId}"></p> <h2 ng-if="item.type=='h' && item.level==2">{{ item.content }}</h2> <h3 ng-if="item.type=='h' && item.level==3">{{ heading.content }}</h3> </div> </div> <div class="col-md-3"> <div class="bs-sidebar hidden-print" role="complementary" data-offset-top="-80" bs-affix> <div class="people-links animate-show" ng-show="currentLinks.people.length > 0"> <accordion> <accordion-group class="animate-repeat animate-show" ng-repeat="link in currentLinks.people"> <accordion-heading>{{ link.name }}</accordion-heading><img class="img-responsive" ng-src="{{ link.image }}"> <br><a class="btn btn-default btn-xs" href="{{ link['@id'] | localiseUrl }}">More</a> </accordion-group> </accordion> </div> <div class="organisations-links" ng-show="currentLinks.organisations.length > 0"> <accordion> <accordion-group class="animate-repeat animate-show" ng-repeat="link in currentLinks.organisations"> <accordion-heading>{{ link.name }}</accordion-heading><img class="img-responsive" ng-src="{{ link.image }}"> <br><a class="btn btn-default btn-xs" href="{{ link['@id'] | localiseUrl }}">More</a> </accordion-group> </accordion> </div> <div class="resources-links" ng-show="currentLinks.resources.length > 0"> <accordion> <accordion-group class="animate-repeat animate-show" ng-repeat="link in currentLinks.resources"> <accordion-heading>{{ link.name }}</accordion-heading><img class="img-responsive" ng-src="{{ link.thumbnailUrl }}"> <br><a class="btn btn-default btn-xs" href="{{ link['@id'] | localiseUrl }}">More</a> </accordion-group> </accordion> </div> <div class="places-links" ng-show="currentLinks.places.length > 0"> <accordion> <accordion-group class="animate-repeat animate-show" ng-repeat="link in currentLinks.places"> <accordion-heading>{{ link.name }}</accordion-heading><img class="img-responsive" ng-src="{{ link.image }}"> <br><a class="btn btn-default btn-xs" href="{{ link['@id'] | localiseUrl }}">More</a> </accordion-group> </accordion> </div> <div class="events-links" ng-show="currentLinks.events.length > 0"> <accordion> <accordion-group class="animate-repeat animate-show" ng-repeat="link in currentLinks.events"> <accordion-heading>{{ link.name }}</accordion-heading><img class="img-responsive" ng-src="{{ link.image }}"> <br><a class="btn btn-default btn-xs" href="{{ link['@id'] | localiseUrl }}">More</a> </accordion-group> </accordion> </div> </div> </div> </div> </div>